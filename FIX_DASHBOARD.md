# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—É—Å—Ç—ã–º –¥–∞—à–±–æ—Ä–¥–æ–º

## –ü—Ä–æ–±–ª–µ–º–∞: –ü–∞–Ω–µ–ª—å "On Wing" –ø—É—Å—Ç–∞—è

### –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
DIAGNOSE.bat
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç:
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ù–∞–ª–∏—á–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ API endpoints
- ‚úÖ –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª—è

---

## –†–µ—à–µ–Ω–∏—è (–ø–æ –ø–æ—Ä—è–¥–∫—É):

### 1Ô∏è‚É£ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö

**–†–µ—à–µ–Ω–∏–µ:**
```bash
python migrate_db.py
```

**–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:**
```
‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ 'tsn_at_install'
‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ 'csn_at_install'
‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ 'install_date'
‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ 'total_time' –≤ aircrafts
‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ 'total_cycles' –≤ aircrafts
‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
```

---

### 2Ô∏è‚É£ –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–∞–∑–∞ –ø—É—Å—Ç–∞—è, –Ω–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
```bash
python add_test_data.py
```

**–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:**
```
Found 3 aircraft:
  - ER-BAT (ID: 1)
  - ER-BAR (ID: 2)
  - ER-BAQ (ID: 3)

Updating aircraft hours...
Found X installed engines...
‚úÖ Test data added successfully!
```

---

### 3Ô∏è‚É£ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä

**–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:**

1. –ó–∞–∫—Ä—ã—Ç—å —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä (Ctrl+C –≤ –æ–∫–Ω–µ START.bat)
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ:
```bash
START.bat
```

---

### 4Ô∏è‚É£ –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞

1. –û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä
2. –ù–∞–∂–∞—Ç—å `F12` (Developer Tools)
3. –ù–∞–∂–∞—Ç—å `Ctrl+Shift+Del`
4. –í—ã–±—Ä–∞—Ç—å "Cached images and files"
5. –û—á–∏—Å—Ç–∏—Ç—å
6. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `F5`

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

### –®–∞–≥ 1: –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å
1. –û—Ç–∫—Ä—ã—Ç—å `http://localhost:8000`
2. –ù–∞–∂–∞—Ç—å `F12`
3. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Console"

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—à–∏–±–∫–∏
–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞:
- ‚ùå `Failed to fetch /api/dashboard/aircraft-details`
  ‚Üí –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç
  
- ‚ùå `No aircraft data available`
  ‚Üí –ë–∞–∑–∞ –ø—É—Å—Ç–∞—è, –∑–∞–ø—É—Å—Ç–∏—Ç—å `add_test_data.py`
  
- ‚ùå `Cannot read property 'positions' of undefined`
  ‚Üí API –≤–µ—Ä–Ω—É–ª –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Network
1. –í–∫–ª–∞–¥–∫–∞ "Network" –≤ F12
2. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. –ù–∞–π—Ç–∏ –∑–∞–ø—Ä–æ—Å `/api/dashboard/aircraft-details`
4. –ö–ª–∏–∫–Ω—É—Ç—å ‚Üí "Response"
5. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å JSON —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–∞–º–æ–ª–µ—Ç–æ–≤

---

## –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ API:

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://localhost:8000/api/dashboard/aircraft-details
```

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:**
```json
[
  {
    "aircraft_id": 1,
    "tail_number": "ER-BAT",
    "total_time": 45623.5,
    "total_cycles": 28450,
    "positions": [
      {
        "engine_id": 5,
        "current_sn": "880123",
        "total_tsn": 23450.0,
        "tsn_on_aircraft": 8450.0,
        ...
      },
      null,
      null,
      null
    ]
  }
]
```

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç (–ø—É—Å—Ç–æ–π):**
```json
[]
```
‚Üí –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ, –∑–∞–ø—É—Å—Ç–∏—Ç—å `add_test_data.py`

---

## –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–ª–æ:

### –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑—ã:

```bash
# 1. Backup —Å—Ç–∞—Ä–æ–π –±–∞–∑—ã
copy aviation_mro.db aviation_mro.db.old

# 2. –£–¥–∞–ª–∏—Ç—å –±–∞–∑—É
del aviation_mro.db

# 3. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
python seed_data.py

# 4. –ú–∏–≥—Ä–∞—Ü–∏—è
python migrate_db.py

# 5. –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
python add_test_data.py

# 6. –ó–∞–ø—É—Å–∫
START.bat
```

---

## –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:

### ‚ùå "column engines.tsn_at_install does not exist"
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç—å `python migrate_db.py`

### ‚ùå "No aircraft data available"
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç—å `python add_test_data.py`

### ‚ùå "Failed to fetch"
**–†–µ—à–µ–Ω–∏–µ:** 
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç 8000 —Å–≤–æ–±–æ–¥–µ–Ω
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä

### ‚ùå –î–∞—à–±–æ—Ä–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–π –¥–∏–∑–∞–π–Ω
**–†–µ—à–µ–Ω–∏–µ:** –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Del)

---

## –ë—ã—Å—Ç—Ä—ã–π fix (–≤—Å–µ –≤ –æ–¥–Ω–æ–º):

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
python migrate_db.py
python add_test_data.py
START.bat
# –í –±—Ä–∞—É–∑–µ—Ä–µ: F5 (–æ–±–Ω–æ–≤–∏—Ç—å)
```

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç:

- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ (`migrate_db.py`)
- [ ] –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã (`add_test_data.py`)
- [ ] –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω (START.bat)
- [ ] –ë—Ä–∞—É–∑–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω (F5)
- [ ] –ö—ç—à –æ—á–∏—â–µ–Ω (Ctrl+Shift+Del)
- [ ] –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –±–µ–∑ –æ—à–∏–±–æ–∫ (F12)
- [ ] API –æ—Ç–≤–µ—á–∞–µ—Ç (–æ—Ç–∫—Ä—ã—Ç—å `/api/dashboard/aircraft-details`)

–ï—Å–ª–∏ –≤—Å–µ ‚úÖ - –¥–∞—à–±–æ—Ä–¥ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å!
